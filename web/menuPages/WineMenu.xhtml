<?xml version="1.0" encoding="UTF-8"?>
<!--
Created by Sharvari Chougule on 2018.06.24
Copyright Â© 2018 Sharvari Chougule. All rights reserved.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    
    
        <ui:composition template="/template/siteTemplate.xhtml">
        <ui:define name="title">
            <!-- Set the page title -->
            <h:outputText value="Wine Menu"></h:outputText>
        </ui:define>

        <!-- Create the content for this page below -->
        <ui:define name="editableContent">
            <div align="center">
                 <h:form id="WineForm" class="ui-datatable-data" style="width:80%; ">
                     <p:dataGrid var="wines" value="#{menuController.wineCollection}" 
                             paginator="true" layout="grid"  
                             paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" 
                             rowsPerPageTemplate="6,12,16" columns="1" rows="12">

                    <p:panel><table style="width:95%; margin:0 auto; align-content: center">
                            <tr >
                    
                             <td width="200px"><h:graphicImage value="/resources/images/Wines/#{wines.wineName}.png"
                                            width="150px" height="200px"  /> </td>   
                                
                             <td width="400px" align="center"><table><tr><td>#{wines.wineName}</td></tr>
                                     <tr><td></td></tr>
                                     <tr><td></td></tr></table></td>
                             <td>
                                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                     &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                     &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                     &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   
                                     
                                     <p:commandLink update=":WineForm:wineCollectionDetail" oncomplete="PF('wineDialog').show()" title="View Detail" style="width:500px">
                                   
                                     
                                     <h:outputText styleClass="fas fa-info-circle fa-2x" style="margin:0 auto; align-self: flex-end" />
                                             
                                   <f:setPropertyActionListener value="#{wines}" target="#{wineCollectionController.selected}" />
                                                 
                                 </p:commandLink>
                               </td>                                
                                
                         </tr>
                     </table>
                     
                    </p:panel>   
                            
                            <f:facet name="footer">
                                
                                <p:button outcome="/Search" value="Search" icon="fas fa-search"  />
                            </f:facet>
                </p:dataGrid>
                       
           
      
     
   
             <p:dialog header="Wine Details" id="wineCollectionDetail" widgetVar="wineDialog" modal="true" style="text-align:center"
                          showEffect="slide" resizable="false"  width="500" height="500">
             
                     
                      <img src="C:/Users/ADMIN/Documents/NetBeansProjects/cloud_software_app_java_ee-master/web/resources/images/Wines/#{menuController.selected.wineName}.png"
                                   style="width:150px; height: 150px"          />
                     
                           <br/> <br/>
                           
                           <p>#{wineCollectionController.selected.wineName}</p>
                         
                           <p>$#{wineCollectionController.selected.glassprice} per glass/$#{wineCollectionController.selected.bottleprice} per bottle"</p>

                    <table  style="align-items: center;border-spacing: 0px;" align="center" >
                      <tr>
                          <td style="width:400px ;height:30px; background-color: #c0c0c0; " align="center">
                              <p>Country:</p> </td>
                      </tr>
                        
                       <!--<br /><br />-->
                       <tr>
                       <td style="height:30px; width:400px; background-color:white " align="center">
                           <p> #{wineCollectionController.selected.country}</p>
                           </td></tr>
                       <!--<br /><br />-->
                       <tr><td style="width:400px ;height:30px; background-color: #c0c0c0" align="center">
                               <p style="color: blue"> Description:</p>
                           </td></tr>
                       <tr>
                           <td style="height:200px; width:400px; background-color:white " align="center">
                               <p> #{wineCollectionController.selected.description}</p>
                           </td>
                       
                       </tr>
                       <!--<br /><br />-->
                      
                       </table>
                        <!-- CLOSE button -->
                        <c:choose>
                            <c:when test="#{userController.isAdministrator()==true}">
                                  <p:commandButton id="deleteButton" icon="fas fa-trash-alt"  value="#{bundle.Delete}" 
                                                 actionListener="#{wineCollectionController.destroyWine()}" 
                                                 update="datalist,:growlInfoMessage,:growlWarningMessage,:growlErrorMessage,:growlFatalMessage" 
                                                 disabled="#{empty wineCollectionController.selected}">

                                    <p:confirm header="Confirmation" 
                                               message="Are you sure you want to permanently delete the selected wine #{wineCollectionController.selected.wineName} from the database?" 
                                               icon="fas fa-exclamation-triangle fa-2x" />
                                </p:commandButton>
                            </c:when>
                        </c:choose>
                            
                        
                        <p:commandButton value="#{bundle.Close}" onclick="PF('wineDialog').hide()" icon="fas fa-window-close"/>
                    
          <!--  </h:panelGrid> -->
                                 
       <!-- </p:outputPanel>  -->
       
    </p:dialog>
        
            </h:form> 
     
            </div>   
        </ui:define>

    </ui:composition>
    <!-- Do not enter tags after the composition line since they are ignored by JSF -->

</html>
